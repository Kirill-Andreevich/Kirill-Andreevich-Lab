# üó∫ Roadmap: Kirill-Andreevich-Lab

## ‚úÖ Phase 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] Terraform: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ K8s Master –∏ Workers (QEMU/KVM + Ubuntu 24.04).
- [x] Cloud-init: –°—Ç–∞—Ç–∏—á–Ω—ã–µ IP (Netplan) –±–µ–∑ DHCP-—Å—é—Ä–ø—Ä–∏–∑–æ–≤.
- [x] Ansible: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É–∑–ª–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ iSCSI/Multipath.

## ‚úÖ Phase 2: K8s Core, Storage & Security
- [x] Kubeadm: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ v1.31, —Å–µ—Ç—å Flannel.
- [x] Helm: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Democratic CSI (TrueNAS API v2.0).
- [x] **Security:** –í–Ω–µ–¥—Ä–µ–Ω–∏–µ Ansible Vault. –°–µ–∫—Ä–µ—Ç—ã (API, SSH, –ø–∞—Ä–æ–ª–∏) –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è "–Ω–∞ –ª–µ—Ç—É" –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –∏ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ (Immutable secrets).
- [x] Storage: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≤–∏–∂–∏–Ω–∏–Ω–≥ iSCSI (ZVOL) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (Binding).
- [x] **Backup (IaC):** –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ TrueNAS S3 (MinIO) —á–µ—Ä–µ–∑ Restic.

## üîÑ Phase 3: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ("–ë–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–µ" –ø–æ–¥—ã)
- [x] Nextcloud: Deployment + iSCSI PVC.
- [x] Jellyfin: Deployment + iSCSI PVC (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –±–∞–∑–∞).
- [x] Speedtest: Stateless Deployment.
- [ ] Jellyfin: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç—è–∂–µ–ª–æ–π –º–µ–¥–∏–∞—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ NFS/SMB (ReadWriteMany).
- [ ] Ingress Controller & Cert-Manager (TLS —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è).
- [ ] **Backup (Data):** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Velero –¥–ª—è –±—ç–∫–∞–ø–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è K8s –∏ –¥–∞–Ω–Ω—ã—Ö PVC –Ω–∞–ø—Ä—è–º—É—é –≤ TrueNAS S3.

## üìÖ Phase 4: AI & –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [ ] –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ GitLab Server (Libvirt VM).
- [ ] Ollama + DeepSeek-R1 (–ü—Ä–æ–±—Ä–æ—Å GPU).
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron/systemd-timer) –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª–µ–π.

## ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ (Tech Debt) & –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–ó–ê–ö–†–´–¢–û)
- [x] **Makefile:** –†–∞–∑–±–∏—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ü–µ–ª–∏ (`make apps`, `make backup`, `make restore`). –í–Ω–µ–¥—Ä–µ–Ω –µ–¥–∏–Ω—ã–π –ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º –∏ –±—ç–∫–∞–ø–∞–º–∏.
- [x] **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è:** –ñ–µ—Å—Ç–∫–∏–µ `sleep` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `kubectl wait` –¥–ª—è API, –Ω–æ–¥ –∏ –ø–æ–¥–æ–≤ CSI. –ö–ª–∞—Å—Ç–µ—Ä –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞.
